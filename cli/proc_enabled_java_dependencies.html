<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: HACBS Documentation</title>
    <link rel="canonical" href="http://localhost:8080/cli/proc_enabled_java_dependencies.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../_/css/site.css">
<link rel="stylesheet" href="../_/css/main.css">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<header class="header" role="banner">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="http://localhost:8080">HACBS Documentation</a>

      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
              <div class="button"><a href="https://gitlab.cee.redhat.com/red-hat-hybrid-application-cloud-build-services-documentation/hacbs-documentation/-/issues/new" target="_blank">Raise an issue</a></div>
        <div class="navbar-item search hide-for-print">
          <div id="search-field" class="field">
            <input id="search-input" type="text" placeholder="Search the docs">
            <label class="filter checkbox">
              <input type="checkbox" data-facet-filter="component:ROOT"> In this project
            </label>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">ROOT</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../getting-started/index.html">Getting Started</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/build_service.html">Pipeline customization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../getting-started/pipeline_visualization.html">Pipeline visualization</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../how-to-guides/index.html">How-to guides</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-to-guides/delete_application.html">Deleting an application from UI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../how-to-guides/proc_creating_static_environment.html">Creating a static environment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">CLI</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="proc_release_application.html">Releasing an application</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="proc_managed_services_onboarding.html">Managed services team onboarding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="delete_application.html">Deleting an application from CLI</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="proc_enabled_java_dependencies.html">Configuring Java builds with enabled dependencies rebuild</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="proc_disabled_java_dependencies.html">Configuring Java builds with disabled dependencies rebuild</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="creating_a_custom_application_test_with_test_pipelines.html">Creating a custom application test with test pipelines</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../concepts/index.html">Concepts</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepts/release-services/con_release-services-overview.html">Release Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepts/enterprise-contract/con_enterprise-contract-overview.html">Enterprise Contract</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../concepts/testing_applications/index.html">Testing Applications</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../concepts/testing_applications/sanity_tests.html">Sanity Tests</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../concepts/testing_applications/adding_new_tests.html">Add a New Test</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../concepts/testing_applications/configuring_tests.html">Configuring Tests</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../concepts/pipelines/index.html">Pipelines</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../concepts/pipelines/persister.html">Persister component</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../concepts/pipelines/pipeline_concepts.html">Pipeline concepts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepts/environments/index.html">Environments</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepts/java-build-service/java-build-service.html">Java build service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../concepts/java-build-service/java-build-service-components.html">Java build service components</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../glossary/index.html">Glossary</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../contribute/index.html">Contribute to documentation</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../raise-issue/index.html">Raise an issue</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../support/index.html">Support</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">ROOT</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../ec-cli/main/index.html">Enterprise Contract CLI</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ec-cli/main/index.html">main</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../ec-policies/index.html">Enterprise Contract Policies</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../ec-policies/index.html">master</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">ROOT</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">ROOT</a></li>
    <li><a href="index.html">CLI</a></li>
    <li><a href="proc_enabled_java_dependencies.html">Configuring Java builds with enabled dependencies rebuild</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/gtrivedi/git/HACBS/stonesoup-documentation/modules/ROOT/pages/cli/proc_enabled_java_dependencies.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_configuring_java_builds_with_enabled_dependencies_rebuild">1. Configuring Java builds with enabled dependencies rebuild</a></li>
<li><a href="#_additional_resources">2. Additional resources</a></li>
</ul>
</div>
<div class="sect1">
<h2 id="_configuring_java_builds_with_enabled_dependencies_rebuild"><a class="anchor" href="#_configuring_java_builds_with_enabled_dependencies_rebuild"></a>1. Configuring Java builds with enabled dependencies rebuild</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java applications download all of their dependencies as pre-compiled binaries from repositories such as Maven Central. While these pre-compiled binaries are convenient, they do not assure the origin of the dependency, and you cannot ensure that the binary artifact matches the open source code. Therefore, Java is different from languages like golang, which use source code-based dependencies.</p>
</div>
<div class="paragraph">
<p>The JVM build service addressed this concern by allowing you to rebuild your application dependencies from the source automatically. Subsequently, you can assure the origin of your dependencies.</p>
</div>
<div class="ulist">
<div class="title"><strong>Workflow</strong></div>
<ul>
<li>
<p>The system builds your application by using community dependencies.</p>
</li>
<li>
<p>The JVM Build Service analyzes your application and determines the dependencies that the system needs to be rebuilt.</p>
</li>
<li>
<p>It generates ArtifactBuild objects to represent each artifact in your application before determining from which repository and tag the system has derives these artifacts.</p>
</li>
<li>
<p>The system analyzes the repository, and uses the results to find a build strategy (which can involve trial and error, for example, if the system cannot find the JDK version to use it will use them all in a specific order)</p>
</li>
<li>
<p>The system attempts to build all the dependencies and stores them in a persistent storage, for example, an S3-based Artifact Store.</p>
</li>
<li>
<p>When the system has completed all its builds you can rebuild your application.</p>
</li>
<li>
<p>If all the builds are successful, your application&#8217;s SBOM displays that none of the dependencies came from third-party repositories. However, you may need to troubleshoot when some dependencies fail to build.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title"><strong>Procedure</strong></div>
<ol class="arabic">
<li>
<p>Browse to your repository and create a file, for example, <code>secret.yaml</code>.</p>
</li>
<li>
<p>In the secret.yaml file, create a <strong>Secret</strong> resource with the following data:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: Secret <i class="conum" data-value="1"></i><b>(1)</b>
metadata:
 name: jvm-build-secrets
 namespace: test-jvm-namespace
stringData:
 registry.token: QUAY_TOKEN <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the resource that you are creating.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The authentication token URL.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Create a file, for example, <code>config.yaml</code>.</p>
</li>
<li>
<p>In the <code>config.yaml</code> file, create a <strong>ConfigMap</strong> resource with the following data:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: v1
kind: ConfigMap
metadata:
name: jvm-build-config
namespace: test-jvm-namespace
data:
enable-rebuilds: "true" <i class="conum" data-value="1"></i><b>(1)</b>
registry.host: quay.io <i class="conum" data-value="2"></i><b>(2)</b>
registry.port: 443
registry.owner: OrgID <i class="conum" data-value="3"></i><b>(3)</b>
registry.repository: artifact-deployments
registry.insecure: false
maven-repository-300-jboss: "https://repository.jboss.org/nexus/content/groups/public/"
maven-repository-301-jitpack: "https://jitpack.io"
maven-repository-302-confluent: "https://packages.confluent.io/maven"
maven-repository-303-gradle: "https://repo.gradle.org/artifactory/libs-releases"
maven-repository-304-eclipselink: "https://download.eclipse.org/rt/eclipselink/maven.repo"
maven-repository-305-redhat: "https://maven.repository.redhat.com/ga"
maven-repository-306-gradleplugins: "https://plugins.gradle.org/m2"
maven-repository-307-jsweet: "https://repository.jsweet.org/artifactory/libs-release-local"</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>To enable and configure the rebuild dependencies function you need to add enable-rebuilds: "true" to the <code>jvm-build-config</code> ConfigMap.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The URL of the repositories that holds the images of your rebuild dependencies.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The organization ID.</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_additional_resources"><a class="anchor" href="#_additional_resources"></a>2. Additional resources</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>For information about Java build service components, see <a href="../concepts/java-build-service/java-build-service-components.html" class="xref page">Java build service components</a>.</p>
</li>
<li>
<p>For more information, see <a href="../concepts/java-build-service/java-build-service.html" class="xref page">Java build service</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer" style="text-align: center;">
    <a href="https://gitlab.cee.redhat.com/red-hat-stone-soup/stonesoup-documentation/-/blob/main/modules/ROOT/pages">Source documents on GitLab</a>
    | <a href="https://docs.engineering.redhat.com/pages/viewpage.action?pageId=256849149">Engage with us!</a>
    | <a href="link:https://groups.google.com/g/stonesoup">Contact us on Google Chat</a>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
  </body>
</html>
